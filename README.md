# LINDAWarper
Apply warps generated by linda to take other native space files to ch2 template space using LindaWarper.R

If you then want to take the ch2 warped files to the MNI_152 template distributed w/the likes of FSL and SPM, use the following code (edit hard paths) in bash. It will use the nonlinear warp provided in this repository:

# First, we cd to a directory that will contain other folders we can loop through that contain the files we need
bd = /your/base/directory
cd $bd

# Edit the code below so you are pulling the correct paths
for subs in *; do echo ${subs}; applywarp --ref=${FSLDIR}/data/standard/MNI152_T1_2mm --in=$bd/${subs}/linda/Prediction3_template.nii --warp=./LINDAWarper/nonlinear_tsf --out=$bd/${subs}/linda/Prediction3_template_MNI_152_2mm.nii --premat=./LINDAWarp/affine.mat; done

## For your reference, here is how the transform was generated-- 
flirt -in /Users/alex/Downloads/LINDA-master-2/inst/extdata/pennTemplate/template_brain.nii.gz -ref ${FSLDIR}/data/standard/MNI152_T1_2mm_brain.nii.gz -omat ./LINDAWarp/affine.mat
fnirt --in=/Users/alex/Downloads/LINDA-master-2/inst/extdata/pennTemplate/template.nii.gz --aff=./LINDAWarp/affine.mat --cout=./LINDAWarp/nonlinear_tsf --config=T1_2_MNI152_2mm
