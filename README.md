# LINDAWarper
LindaWarper.R is a simple script for applying warps generated by LINDA to other native space files you want to bring into ch2 template space. You'll need ANTsR to use this.

If you then want to take the ch2 warped files to the MNI_152 template distributed w/the likes of FSL and SPM, you can use the following code. It uses fsl to apply a warp registering these two template spaces. The warp is provided with this repository. You'll use bash for this and we assume you have FSL installed and have the FSLDIR path set for your bash profile.

First, cd to a directory that will contain other folders we can loop through that will themselves contain the files we will warp

	> bd = /your/base/directory
	> cd $bd

Then apply the warp. Edit the code below so you are pulling the correct paths (i.e., the LINDAWarper repository directory and the name of the file you want to warp)

	> for subs in *; do echo ${subs}; applywarp --ref=${FSLDIR}/data/standard/MNI152_T1_2mm --in=$bd/${subs}/linda/Prediction3_template.nii --warp=./LINDAWarper/nonlinear_tsf --out=$bd/${subs}/linda/Prediction3_template_MNI_152_2mm.nii --premat=./LINDAWarp/affine.mat; done

For your reference, here is how the transform was generated

	> flirt -in /Users/alex/Downloads/LINDA-master-2/inst/extdata/pennTemplate/template_brain.nii.gz -ref ${FSLDIR}/data/standard/MNI152_T1_2mm_brain.nii.gz -omat ./LINDAWarp/affine.mat
	> fnirt --in=/Users/alex/Downloads/LINDA-master-2/inst/extdata/pennTemplate/template.nii.gz --aff=./LINDAWarp/affine.mat --cout=./LINDAWarp/nonlinear_tsf --config=T1_2_MNI152_2mm
